<!DOCTYPE html>
<html lang="en">
    <%- include ("partials/head.ejs") %>
<body>
    <%- include ("partials/nav.ejs") %>
    <h1 id="Hello">All blogs</h1>

    <form action="/blogs/create" method="POST">

        <div class="form-group">
          <label for="title">Title</label>
          <input type="title" name="title" class="form-control" id="title" aria-describedby="title" placeholder="Enter title" required>
        </div>
      <div class="form-group">
        <label for="body">Body</label>
        <textarea type="textarea" name="body" class="form-control" id="body" placeholder="Body" required></textarea>
      </div>
      <button type="submit" class="btn btn-primary">Create</button>
    </form>

    <ul>
        <% blogs.forEach(blog => { %>
            <li>
                <h2><a href="/blogs/<%= blog.id%>"><%=blog.title%></a></h2>
                <p><% blog.body %></p>
    </ul>

    <!-- Update blog  -->
     <form action="/blogs/update" method="POST">
        <div class="form-group">
            <input type="hidden" name="id" value="<% blog.id %>" class="form-control" aria-describedby="blog_id">
            <input type="text" name="title" value="<% blog.title %>" required>
            <textarea name="body" required><% blog.body %></textarea>
          </div>
          <button type="submit">Update</button>
     </form>

         <!-- delete blog  -->
         <form action="/blogs/delete" method="POST">
            <div class="form-group">
                <input type="hidden" name="id" value="<% blog.id %>" class="form-control" aria-describedby="blog_id">
              </div>
              <button type="submit">Delete</button>
         </form>
        </li>
         <% }); %>
    </ul>
    <a href="/">Homepage</a>


    <%- include ("partials/footer.ejs") %>   
</body>
</html>